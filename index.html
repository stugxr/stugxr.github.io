<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>Hexo</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Hexo</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/05/09/111/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/05/09/111/" class="post-title-link" itemprop="url">111</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2021-05-09 20:32:31 / Modified: 21:09:46" itemprop="dateCreated datePublished" datetime="2021-05-09T20:32:31+08:00">2021-05-09</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><img src="/typora-user-images/image-20210509210848814.png" alt="image-20210509210848814"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/05/09/hexo-typora/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/05/09/hexo-typora/" class="post-title-link" itemprop="url">hexo+typora+github</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2021-05-09 19:18:55 / Modified: 21:20:55" itemprop="dateCreated datePublished" datetime="2021-05-09T19:18:55+08:00">2021-05-09</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="一-安装配置hexo框架"><a href="#一-安装配置hexo框架" class="headerlink" title="一    安装配置hexo框架"></a>一    安装配置hexo框架</h1><h2 id="Step1-安装Nodejs"><a href="#Step1-安装Nodejs" class="headerlink" title="Step1 安装Nodejs"></a>Step1 安装Nodejs</h2><p>官网下载并安装nodejs，为hexo的安装提供环境</p>
<p>进入终端切换到root用户：sudo su</p>
<p>查看node版本【检查安装是否成功】：node -v</p>
<p>查看npm版本【检查安装是否成功】：nom -v</p>
<h2 id="Step2-安装hexo"><a href="#Step2-安装hexo" class="headerlink" title="Step2 安装hexo"></a>Step2 安装hexo</h2><p>安装淘宝的cnpm管理器，因为npm下载东西速度慢：npm install -g cnpm –registry=<a target="_blank" rel="noopener" href="http://registry.npm.taobao.org/">http://registry.npm.taobao.org</a>    </p>
<p>安装hexo框架：cnpm install -g hexo-cli </p>
<p>查看hexo版本【检查安装是否成功】：hexo -v</p>
<p>在用户文件夹下创建blog，用来装关于hexo的文件：mkdir blog</p>
<p>进入创建的文件夹：cd blog</p>
<p>初始化博客：sudo hexo init</p>
<p>启动博客，看是否安装并配置成功：hexo s</p>
<p>访问：<a target="_blank" rel="noopener" href="http://localhost:4000/">http://localhost:4000/</a></p>
<h1 id="二-选择hexo的主题"><a href="#二-选择hexo的主题" class="headerlink" title="二    选择hexo的主题"></a>二    选择hexo的主题</h1><p>百度谷歌到心仪的主题地址</p>
<p>进入blog文件夹：cd  /User/你的个人文件夹/blog</p>
<p>拉取主题项目：git clone 主题地址 themes/主题名</p>
<p>进入blog文件夹下，修改hexo的默认主题设置：vim _config.yml </p>
<p>搜索thems【/   是搜索】：/thems</p>
<p>修改配置： theme: 主题名</p>
<p>回到blog文件夹，生成一下修改【这是两个命令】：hexo clean   —&gt;   hexo g</p>
<p>启动hexo查看是否修改成功：hexo s</p>
<h1 id="三-将hexo部署到github"><a href="#三-将hexo部署到github" class="headerlink" title="三    将hexo部署到github"></a>三    将hexo部署到github</h1><p>用github创建一个新的仓库，仓库名为：YourGithubName.github.io</p>
<p>在blog目录下安装git部署插件：cnpm install –save hexo-deployer-git </p>
<p>配置_config.yml ：</p>
<pre><code># Deployment
## Docs: https://hexo.io/docs/deployment.html
deploy:
    type: git
    repo: https://github.com/YourGithubName/YourGithubName.github.io.git
    branch: master
</code></pre>
<p>部署到github仓库里：hexo d</p>
<h1 id="四-利用typora编写文章并发布到hexo上"><a href="#四-利用typora编写文章并发布到hexo上" class="headerlink" title="四    利用typora编写文章并发布到hexo上"></a>四    利用typora编写文章并发布到hexo上</h1><h2 id="step1-创建文件"><a href="#step1-创建文件" class="headerlink" title="step1 创建文件"></a>step1 创建文件</h2><p>进入到blog文件夹，并赋予读写该文件夹的权限，因为后面需要编写文章的时候，里面存储发布文章没有修改权限：sudo chmod -R blog 777</p>
<p>进入到存储发布文章的文件夹：cd  /Users/你的个人文件夹/blog/source/_posts</p>
<p>创建文件：hexo n “文件名”</p>
<p>创建图片文件夹用于存放图片，是为了让博客中的图片能够显示：</p>
<ul>
<li>cd  /Users/你的个人文件夹/blog/source</li>
<li>mkdir typora-user-images</li>
</ul>
<p>打开文件【你必须先安装了typora】:open 文件名.md</p>
<p>配置图片的路径：</p>
<p><img src="/typora-user-images/image-20210509205734089.png" alt="image-20210509205734089"></p>
<p><img src="/typora-user-images/image-20210509210822086.png" alt="image-20210509210822086"></p>
<p><img src="/typora-user-images/image-20210509210951581.png" alt="image-20210509210951581"></p>
<h2 id="step2-发布文件"><a href="#step2-发布文件" class="headerlink" title="step2 发布文件"></a>step2 发布文件</h2><p>回到blog文件夹生成修改：hexo g</p>
<p>发布文章：hexo d</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/05/09/%E8%AE%A1%E7%BD%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/05/09/%E8%AE%A1%E7%BD%91/" class="post-title-link" itemprop="url">计网知识点</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-05-09 18:00:09" itemprop="dateCreated datePublished" datetime="2021-05-09T18:00:09+08:00">2021-05-09</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="一-OSI与TCP-IP各层的结构与功能-都有哪些协议"><a href="#一-OSI与TCP-IP各层的结构与功能-都有哪些协议" class="headerlink" title="一 OSI与TCP/IP各层的结构与功能,都有哪些协议"></a>一 OSI与TCP/IP各层的结构与功能,都有哪些协议</h2><h3 id="五层协议的体系结构"><a href="#五层协议的体系结构" class="headerlink" title="五层协议的体系结构"></a>五层协议的体系结构</h3><p><img src="https://user-gold-cdn.xitu.io/2018/7/29/164e5307471e8eba?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="五层协议的体系结构"></p>
<h3 id="1-应用层"><a href="#1-应用层" class="headerlink" title="1 应用层"></a>1 应用层</h3><p><strong>应用层(application-layer）的任务是通过应用进程间的交互来完成特定网络应用</strong>。应用层协议定义的是应用进程（进程：主机中正在运行的程序）间的通信和交互的规则。对于不同的网络应用需要不同的应用层协议。在互联网中应用层协议很多，如域名系统 DNS，支持万维网应用的 <strong>HTTP 协议</strong>，支持电子邮件的 <strong>SMTP 协议</strong>等等。我们把</p>
<h4 id="域名系统"><a href="#域名系统" class="headerlink" title="域名系统"></a>域名系统</h4><blockquote>
<p>域名系统(Domain Name System缩写 DNS，Domain Name被译为域名)是因特网的一项核心服务，它作为可以将域名和IP地址相互映射的一个分布式数据库，能够使人更方便的访问互联网，而不用去记住能够被机器直接读取的IP数串。（百度百科）例如：一个公司的 Web 网站可看作是它在网上的门户，而域名就相当于其门牌地址，通常域名都使用该公司的名称或简称。例如上面提到的微软公司的域名，类似的还有：IBM 公司的域名是 <a target="_blank" rel="noopener" href="http://www.ibm.com/">www.ibm.com</a>、Oracle 公司的域名是 <a target="_blank" rel="noopener" href="http://www.oracle.com/">www.oracle.com</a>、Cisco公司的域名是 <a target="_blank" rel="noopener" href="http://www.cisco.com/">www.cisco.com</a> 等。</p>
</blockquote>
<h4 id="HTTP协议"><a href="#HTTP协议" class="headerlink" title="HTTP协议"></a>HTTP协议</h4><blockquote>
<p>超文本传输协议（HTTP，HyperText Transfer Protocol)是互联网上应用最为广泛的一种网络协议。所有的 WWW（万维网） 文件都必须遵守这个标准。设计 HTTP 最初的目的是为了提供一种发布和接收 HTML 页面的方法。（百度百科）</p>
</blockquote>
<h3 id="2-运输层"><a href="#2-运输层" class="headerlink" title="2 运输层"></a>2 运输层</h3><p><strong>运输层(transport layer)的主要任务就是负责向两台主机进程之间的通信提供通用的数据传输服务,用该服务传送应用层报文</strong>。“通用的”是指并不针对某一个特定的网络应用，而是多种应用可以使用同一个运输层服务。由于一台主机可同时运行多个线程，因此运输层有复用和分用的功能。所谓复用就是指多个应用层进程可同时使用下面运输层的服务，分用和复用相反，是运输层把收到的信息分别交付上面应用层中的相应进程。</p>
<h4 id="运输层主要使用以下两种协议"><a href="#运输层主要使用以下两种协议" class="headerlink" title="运输层主要使用以下两种协议"></a>运输层主要使用以下两种协议</h4><ol>
<li><strong>传输控制协议 TCP</strong>（Transmisson Control Protocol）–提供<strong>面向连接</strong>的，<strong>可靠的</strong>数据传输服务。</li>
<li><strong>用户数据协议 UDP</strong>（User Datagram Protocol）–提供<strong>无连接</strong>的，尽最大努力的数据传输服务（<strong>不保证数据传输的可靠性</strong>）。</li>
</ol>
<h3 id="3-网络层"><a href="#3-网络层" class="headerlink" title="3 网络层"></a>3 网络层</h3><p><strong>网络层把运输层产生的用户数据报封装成分组和包，并对分组进行路由传输</strong>。在 TCP/IP 体系结构中，由于网络层<strong>使用 IP 协议</strong>，因此分组也叫 IP 数据报，简称 数据报。另外，无论是哪一层的数据单元，都可笼统地用“分组”来表示。</p>
<h3 id="4-数据链路层"><a href="#4-数据链路层" class="headerlink" title="4 数据链路层"></a>4 数据链路层</h3><p><strong>数据链路层将网络层交下来的 IP 数据报组装程帧，并对对帧进行检错和纠错</strong></p>
<h3 id="5-物理层"><a href="#5-物理层" class="headerlink" title="5 物理层"></a>5 物理层</h3><p><strong>物理层实现计算机节点之间比特流的传送</strong> </p>
<h2 id="二-TCP-三次握手和四次挥手-面试常客"><a href="#二-TCP-三次握手和四次挥手-面试常客" class="headerlink" title="二 TCP 三次握手和四次挥手(面试常客)"></a>二 TCP 三次握手和四次挥手(面试常客)</h2><p>为了准确无误地把数据送达目标处，TCP协议采用了三次握手策略。</p>
<p><strong>漫画图解：</strong></p>
<p>图片来源：《图解HTTP》 </p>
<p><img src="https://user-gold-cdn.xitu.io/2018/5/8/1633e127396541f1?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="TCP三次握手"></p>
<p><strong>简单示意图：</strong> </p>
<p><img src="https://user-gold-cdn.xitu.io/2018/5/8/1633e14233d95972?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="TCP三次握手"></p>
<h3 id="三次握手过程"><a href="#三次握手过程" class="headerlink" title="三次握手过程"></a>三次握手过程</h3><p>在客户端和服务器之间建立正常的 TCP 网络连接时，客户端首先发出一个 SYN 消息请求建立连接，服务器使用 SYN和ACK 消息应答表示接收到了这个消息，最后客户端再以 ACK消息响应。</p>
<h3 id="为什么要三次握手"><a href="#为什么要三次握手" class="headerlink" title="为什么要三次握手"></a>为什么要三次握手</h3><p><strong>三次握手的目的是建立可靠的通信信道，保证数据的传输，也就是双方确认自己与对方的发送与接收是正常的。</strong></p>
<h3 id="为什么要传回-SYN"><a href="#为什么要传回-SYN" class="headerlink" title="为什么要传回 SYN"></a>为什么要传回 SYN</h3><p>服务器传回客户端所发送的 SYN 是为了告诉客户端，我接收到的信息确实就是你所发送的信号了。</p>
<h3 id="传了-SYN-为啥还要传-ACK"><a href="#传了-SYN-为啥还要传-ACK" class="headerlink" title="传了 SYN,为啥还要传 ACK"></a>传了 SYN,为啥还要传 ACK</h3><p>就是服务器要知道发送给客户端的信号,客户端到底有没有收到，客户端发送就是为了告知服务器自己确实收到了</p>
<p><img src="https://user-gold-cdn.xitu.io/2018/5/8/1633e1676e2ac0a3?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="TCP四次挥手"></p>
<h3 id="四次握手过程"><a href="#四次握手过程" class="headerlink" title="四次握手过程"></a>四次握手过程</h3><p>断开一个 TCP 连接则需要“四次挥手”：</p>
<ul>
<li>客户端-发送一个 FIN，用来关闭客户端到服务器的数据传送</li>
<li>服务器-收到这个 FIN，它发回一 个 ACK，表明自己接受到了客户端关闭连接的请求</li>
<li>服务器-关闭与客户端的连接，发送一个FIN给客户端</li>
<li>客户端-发回 ACK用于确认</li>
</ul>
<h3 id="为什么要四次挥手"><a href="#为什么要四次挥手" class="headerlink" title="为什么要四次挥手"></a>为什么要四次挥手</h3><p>任何一方都可以在数据传送结束后发出连接释放的通知，待对方确认后进入半关闭状态。当另一方也没有数据再发送的时候，则发出连接释放通知，对方确认后就完全关闭了TCP连接。</p>
<h3 id="Tcp丢包问题"><a href="#Tcp丢包问题" class="headerlink" title="Tcp丢包问题"></a>Tcp丢包问题</h3><p><strong>为什么会丢包？</strong></p>
<p>TCP是基于不可靠的<strong>网络</strong>实现可靠的传输，肯定也会存在掉包的情况，最大的可能在于程序发送的过程或者接收的过程出现问题。</p>
<p><strong>出现的问题：</strong></p>
<p> 例如服务端要给客户端发送大量数据，Send频率很高，那么就很有可能在Send环节出现错误（1.程序处理逻辑错误，2.多线程同步问题，3.缓冲区溢出等），如果没有对Send发送失败做处理，就会造成丢数据，丢包现象。</p>
<p><strong>解决方法：</strong></p>
<p>丢包可通过粘包、拆包的方式进行解决。粘包、拆包就是Tcp协议将数据包进行组合或者分割。</p>
<p>如果客户端、服务端掉线，常采用心跳测试，也就是每隔一段时间就会向服务器发送空数据包，如果发送失败代表连接断开。</p>
<h2 id="三-说说TCP、UDP-协议的区别"><a href="#三-说说TCP、UDP-协议的区别" class="headerlink" title="三 说说TCP、UDP 协议的区别"></a>三 说说TCP、UDP 协议的区别</h2><p><img src="https://user-gold-cdn.xitu.io/2018/4/19/162db5e97e9a9e01?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="TCP、UDP协议的区别"></p>
<p>TCP是传输控制协议 ,UDP是用户数据协议 </p>
<p>TCP一对一传输,面向连接,可靠,效率低,所需资源多</p>
<p>UDP多种关系传输,面向无连接,不可靠,效率高,所需资源少</p>
<h2 id="四-TCP-协议如何保证可靠传输"><a href="#四-TCP-协议如何保证可靠传输" class="headerlink" title="四 TCP 协议如何保证可靠传输"></a>四 TCP 协议如何保证可靠传输</h2><p>视屏讲解：<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1c4411d7jb?p=63">https://www.bilibili.com/video/BV1c4411d7jb?p=63</a></p>
<ol>
<li>超时重传：tcp设计了超时记时器，如果数据没有收到期待的响应则会重复数据包</li>
<li>接受确认：tcp采用累加确认的方法</li>
<li>滑动窗口进行流量控制：用来告知对方的接受窗口容量，用于控制流量</li>
<li>拥塞控制</li>
<li>数据分片：发送端对数据进行分片，接受端要对数据进行重组，由TCP确定分片的大小并控制分片和重组</li>
<li>失序处理：接收方接受经过Tcp进行分片的数据可能会失序，TCP对收到的数据进行重新排序</li>
<li>数据校验：TCP将保持它首部和数据的检验和，这是一个端到端的检验和，目的是检测数据在传输过程中的任何变化。如果收到分片的检验或有差错，TCP将丢弃这个分片，并不确认收到此报文段导致对端超时并重发</li>
</ol>
<p>TCP报文格式详解：<a target="_blank" rel="noopener" href="https://blog.csdn.net/wilsonpeng3/article/details/12869233%E3%80%90%E8%83%8C%E8%AF%B5%E7%90%86%E8%A7%A3Tcp%E6%8A%A5%E6%96%87%E6%AE%B5%E3%80%91">https://blog.csdn.net/wilsonpeng3/article/details/12869233【背诵理解Tcp报文段】</a></p>
<p>![截屏2021-04-25 下午12.43.41](../../../../../../../Pictures/typora-user-images/截屏2021-04-25 下午12.43.41.png)</p>
<h3 id="停止等待协议"><a href="#停止等待协议" class="headerlink" title="停止等待协议"></a>停止等待协议</h3><ul>
<li><strong>停止等待协议是为了实现可靠传输的，它的基本原理就是每发完一个分组就停止发送，等待对方确认。在收到确认后再发下一个分组；</strong></li>
<li><strong>在停止等待协议中，若接收方收到重复分组，就丢弃该分组，但同时还要发送确认；</strong></li>
</ul>
<p><strong>1) 无差错情况:</strong> </p>
<p><img src="https://user-gold-cdn.xitu.io/2018/8/16/16541fa8c3816a90?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="img"></p>
<p>发送方发送分组,接收方在规定时间内收到,并且回复确认.发送方再次发送。</p>
<p><strong>2) 出现差错情况（超时重传）:</strong> </p>
<p><img src="https://user-gold-cdn.xitu.io/2018/8/16/16541faefdf249ab?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="img"></p>
<p> 停止等待协议中超时重传是指只要超过一段时间仍然没有收到确认，就重传前面发送过的分组（认为刚才发送过的分组丢失了）。因此每发送完一个分组需要设置一个超时计时器，其重转时间应比数据在分组传输的平均往返时间更长一些。这种自动重传方式常称为 <strong>自动重传请求 ARQ连续 ARQ 协议</strong></p>
<p><strong>3) 确认丢失和确认迟到</strong></p>
<ul>
<li><p><strong>确认丢失</strong>：确认消息在传输过程丢失 </p>
<p><img src="https://user-gold-cdn.xitu.io/2018/8/16/16541fb6941a7165?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="img"></p>
<p> 当A发送M1消息，B收到后，B向A发送了一个M1确认消息，但却在传输过程中丢失。而A并不知道，在超时计时过后，A重传M1消息，B再次收到该消息后采取以下两点措施：</p>
<ol>
<li>丢弃这个重复的M1消息，不向上层交付。</li>
<li>向A发送确认消息。（不会认为已经发送过了，就不再发送。A能重传，就证明B的确认消息丢失）。</li>
</ol>
</li>
<li><p><strong>确认迟到</strong> ：确认消息在传输过程中迟到 </p>
<p><img src="https://user-gold-cdn.xitu.io/2018/8/16/16541fdd85929e6b?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="img"></p>
<p> A发送M1消息，B收到并发送确认。在超时时间内A没有收到确认消息，A重传M1消息，B仍然收到并继续发送确认消息（B收到了2份M1）。此时A收到了B第二次发送的确认消息。接着发送其他数据。过了一会，A收到了B第一次发送的对M1的确认消息（A也收到了2份确认消息）。处理如下：</p>
<ol>
<li>A收到重复的确认后，直接丢弃。</li>
<li>B收到重复的M1后，也直接丢弃重复的M1。</li>
</ol>
</li>
</ul>
<h3 id="自动重传请求-ARQ-协议"><a href="#自动重传请求-ARQ-协议" class="headerlink" title="自动重传请求 ARQ 协议"></a>自动重传请求 ARQ 协议</h3><p>停止等待协议中超时重传是指只要超过一段时间仍然没有收到确认，就重传前面发送过的分组（认为刚才发送过的分组丢失了）。因此每发送完一个分组需要设置一个超时计时器，其重转时间应比数据在分组传输的RTT（平均往返时间【A-&gt;B和B-&gt;A的时间】)更长【发送有延迟】一些。这种自动重传方式常称为自动重传请求ARQ。</p>
<p><strong>优点：</strong> 简单</p>
<p><strong>缺点：</strong> 信道利用率低【大部分时间都在路上：平均往返时间】</p>
<h3 id="连续ARQ协议-GBN"><a href="#连续ARQ协议-GBN" class="headerlink" title="连续ARQ协议(GBN)"></a>连续ARQ协议(GBN)</h3><p>连续 ARQ 协议可提高信道利用率。发送方维持一个发送窗口，凡位于发送窗口内的分组可以连续发送出去，而不需要等待对方确认。接收方一般采用累计确认，对按序到达的最后一个分组发送确认，表明到这个分组为止的所有分组都已经正确收到了。</p>
<p><strong>优点：</strong> 信道利用率高，容易实现，即使确认丢失，也不必重传。</p>
<p><strong>缺点：</strong> 不能向发送方反映出接收方已经正确收到的所有分组的信息。 比如：发送方发送了 5条 消息，中间第三条丢失（3号），这时接收方只能对前两个发送确认。发送方无法知道后三个分组的下落，而只好把后三个全部重传一次。这也叫 Go-Back-N（回退 N），表示需要退回来重传已经发送过的 N 个消息。</p>
<h3 id="讲讲滑动窗口【画图讲解】"><a href="#讲讲滑动窗口【画图讲解】" class="headerlink" title="讲讲滑动窗口【画图讲解】"></a>讲讲滑动窗口【画图讲解】</h3><p><img src="/Users/stugxr/Pictures/typora-user-images/1614930093381.png" alt="1614930093381"></p>
<p><strong>作用：</strong>TCP 利用滑动窗口实现流量控制的机制。</p>
<p>结构：</p>
<ul>
<li>整个窗口可分为四种状态：已经被对方成功接收的数据+已经发送还没有收到ack的数据+可以发送但是尚未发送的数据+暂时不能发送的数据。发送窗口将已发送未确认和可发送但未发送的数据框在里面,靠近已收到确认消息的是前沿,靠近不能发送那端是后沿。</li>
</ul>
<p>过程：</p>
<ul>
<li><p>第一种情况：当发送方发送的数据正确按序【前沿第一个一定不能为空】到达接受窗口,接受端的窗口向前移动接受数据对应的长度,然后发送带有最靠近前沿的确认号的报文段,发送端收到了消息后窗口就会向前移动,将到达的数据归类为对方成功接受的数据,如果发送端未收到消息超过一定时间就会超时重传。</p>
</li>
<li><p>第二种情况是：当发送端发送的数据没有正确按序达接受端,接受端窗口不动,并发出有期待确认序号的报文段,接收端接收到之后发送该数据,接收端收到数据后窗口右移,后面的情况与第一种情况就一样了。</p>
</li>
</ul>
<h3 id="什么是流量控制"><a href="#什么是流量控制" class="headerlink" title="什么是流量控制"></a>什么是流量控制</h3><pre><code> 流量控制是为了控制发送方发送速率，保证接收方来得及接收,而TCP 利用滑动窗口实现流量控制。接收方发送的确认报文中的窗口字段可以用来控制发送方窗口大小，从而影响发送方的发送速率。
</code></pre>
<h3 id="说说拥塞控制【知道定义，知道哪些算法】"><a href="#说说拥塞控制【知道定义，知道哪些算法】" class="headerlink" title="说说拥塞控制【知道定义，知道哪些算法】"></a>说说拥塞控制【知道定义，知道哪些算法】</h3><p>定<strong>义：在某段时间，若对网络中某一资源的需求超过了该资源所能提供的可用部分，网络的性能就要变坏。这种情况就叫拥塞。拥塞控制就是为了防止过多的数据注入到网络中</strong></p>
<p>怎样实现： <strong>为了进行拥塞控制，TCP 发送方要维持一个拥塞窗口的状态</strong> 。拥塞控制窗口的大小取决于网络的拥塞000程度，并且动态变化。<strong>TCP的拥塞控制采用了四种算法</strong>，即 <strong>慢开始</strong> 、 <strong>拥塞避免</strong> 、<strong>快重传</strong> 和 <strong>快恢复</strong>。</p>
<p><img src="/Users/stugxr/Pictures/typora-user-images/1614930548134.png" alt="1614930548134"></p>
<ul>
<li><p><strong>慢开始：</strong></p>
<p> 慢开始算法的思路不要一开始就发送大量的数据，先探测一下网络的拥塞程度，也就是说由小到大按指数增长逐渐增加拥塞窗口的大小</p>
</li>
<li><p><strong>拥塞避免：</strong></p>
<p>  拥塞避免算法的思路是让拥塞窗口cwnd缓慢增大，一个一个按照线性规律增加</p>
</li>
<li><p><strong>快重传</strong>:</p>
<p> 快重传与快恢复能快速恢复丢失的数据包。如果数据包丢失了，接收端接将收到一个不按顺序的数据段，它会立即给发送机发送一个重复确认，如果发送机接收到三个重复确认，它会假定确认件指出的数据段丢失了，并立即重传这些丢失的数据段。</p>
<p><img src="https://user-gold-cdn.xitu.io/2018/8/10/165234f0303d174b?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="快重传与快恢复"></p>
</li>
<li><p><strong>快恢复:</strong></p>
<p> 快重传配合使用的还有快恢复算法，当发送方连续收到三个重复确认时，就把慢开始门限值减半,更新拥塞窗口的值为慢开始门限值，然后执行拥塞避免算法。</p>
</li>
</ul>
<p><strong>最后画个图</strong></p>
<h2 id="五-在浏览器中输入url地址-gt-gt-显示主页的过程（面试常客）"><a href="#五-在浏览器中输入url地址-gt-gt-显示主页的过程（面试常客）" class="headerlink" title="五  在浏览器中输入url地址 -&gt;&gt; 显示主页的过程（面试常客）"></a>五  在浏览器中输入url地址 -&gt;&gt; 显示主页的过程（面试常客）</h2><p>百度好像最喜欢问这个问题。</p>
<blockquote>
<p>打开一个网页，整个过程会使用哪些协议， 各种协议与HTTP协议之间的关系</p>
</blockquote>
<p>图片来源：《图解HTTP》</p>
<p><img src="https://user-gold-cdn.xitu.io/2018/4/19/162db5e985aabdbe?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="状态码"></p>
<p><img src="https://user-gold-cdn.xitu.io/2018/5/8/1633ead316d07713?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="各种协议与HTTP协议之间的关系"></p>
<p><strong>1.先用DNS解析成域名为ip地址</strong></p>
<p><strong>2.HTTP生成HTTP请求报文</strong></p>
<p><strong>3.TCP将报文切割成一份一份报文段，方便进行传输</strong></p>
<p><strong>4.IP协议搜索对方地址，一边中转一边传输数据包,路由器中转需要OPSF协议</strong></p>
<p><strong>5.路由器使用ARP协议将ip地址和MAC地址进行映射,从而和服务器通信</strong></p>
<p><strong>6.到达目标服务器后，TCP再将报文段按序号合并成报文</strong></p>
<p><strong>7.应用层的HTTP再对请求报文的内容进行处理，处理结果的返回和前面是相同的方式</strong></p>
<h2 id="六-状态码"><a href="#六-状态码" class="headerlink" title="六 状态码"></a>六 状态码</h2><p><img src="https://user-gold-cdn.xitu.io/2018/5/8/1633e19dba27ed00?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="状态码"></p>
<p>1xx表示信息 例如 100表示服务器同意信息处理</p>
<p>2xx表示成功 例如 200表示请求成功，204表示请求请成功但没有内容</p>
<p>3xx表示重定向 例如 301适合永久重定向，302用来做临时跳转</p>
<p>4xx表示客户端错误，例如404表示页面找不到，403表示服务器理解客户的请求，但拒绝处理它。</p>
<p>5xx表示服务器错误，例如 500表示服务器内部错误，503表示服务器忙碌，稍后重试</p>
<h2 id="八-HTTP长连接、短连接是什么"><a href="#八-HTTP长连接、短连接是什么" class="headerlink" title="八  HTTP长连接、短连接是什么"></a>八  HTTP长连接、短连接是什么</h2><p>HTTP协议的长连接和短连接，实质上是TCP协议的长连接和短连接。短连接也就是说，客户端和服务器每进行一次HTTP操作，就建立一次连接，任务结束就中断连接。在使用长连接的情况下，当一个网页打开完成后，客户端和服务器之间用于传输数据的TCP连接不会关闭，客户端再次访问这个服务器时，会继续使用这一条已经建立的连接。</p>
<h2 id="九-Http与Https的区别"><a href="#九-Http与Https的区别" class="headerlink" title="九 Http与Https的区别"></a>九 Http与Https的区别</h2><p>Http是超文本传输协议,运行在TCP之上；Https是身披SSL(Secure Socket Layer)外壳的Http，运行于SSL(安全套接字,一种标准)上，SSL运行于TCP之上。二者之间存在不同：</p>
<p>传输安全：Http明文传输，客户端与服务器端都无法验证对方的身份,Https有加密和认证机制</p>
<p>资源消耗：和HTTP通信相比，Https通信会由于加解密处理消耗更多的CPU和内存资源；　</p>
<p>端口不同：前者是80，后者是443</p>
<h3 id="十-条件GET"><a href="#十-条件GET" class="headerlink" title="十 条件GET"></a>十 条件GET</h3><p>是HTTP采用的缓存机制，为了加速页面访问</p>
<p>通过两种方式来实现条件Get:</p>
<p>1.页面验证：通过Expries头来判断页面内容是否已经更新，不需要访问服务器</p>
<p>2.条件get：客户端向服务器发送一个查询包，服务器返回告知页面是否更改，如果没更改啊，则直接从缓存取出页面</p>
<h3 id="十一-Http为什么要使用长链接？"><a href="#十一-Http为什么要使用长链接？" class="headerlink" title="十一 Http为什么要使用长链接？"></a>十一 Http为什么要使用长链接？</h3><p>1.tcp拥塞控制采用了慢开始，启动速度缓慢</p>
<p>2.多个tcp建立、释放需要浪费一定的时间以及系统开销</p>
<h3 id="十二-Https怎样进行加密的？"><a href="#十二-Https怎样进行加密的？" class="headerlink" title="十二 Https怎样进行加密的？"></a>十二 Https怎样进行加密的？</h3><p><strong>采用什么方式进行加密？</strong></p>
<p>在交换密钥时使用对称密钥加密方式，在建立通信信道传输报文段阶段采用非对称加密，所谓对称密钥加密就是加密解密都是同一个密钥，加密后就需要将公有密钥传输给对方。非对称密钥加密就是加密时采用公有密钥进行加密并传输，然后接收方采用私有密钥进行解密。</p>
<p><strong>进行加密的一个过程？</strong></p>
<p>首先：浏览器里有一个内置的受信任的CA机构列表，用于存放认证CA机构认证的证书，如果说认证该服务器证书存在于浏览器端的CA机构中，并且服务器端的信息与当前访问的网站一直，那么说明该服务器是可靠的，并从服务器中获取公有密钥。</p>
<p>其次：用该公有密钥和服务器建立通信，协商出两个会话密钥。</p>
<p>最后：在双方获得会话密钥后，开始传输数据，这些数据都是通过会话密钥进行加密的。等到数据到达后再利用自己的私钥进行解密。</p>
<h2 id="写在最后"><a href="#写在最后" class="headerlink" title="写在最后"></a>写在最后</h2><h3 id="计算机网络常见问题回顾"><a href="#计算机网络常见问题回顾" class="headerlink" title="计算机网络常见问题回顾"></a>计算机网络常见问题回顾</h3><ul>
<li>①TCP三次握手和四次挥手</li>
<li>②在浏览器中输入url地址-&gt;&gt;显示主页的过程</li>
<li>③HTTP和HTTPS的区别</li>
<li>④TCP、UDP协议的区别</li>
<li>⑤常见的状态码。</li>
</ul>
<p>补充知识：</p>
<p>Http报文格式</p>
<p><img src="/typora-user-images/1614943036911.png" alt="1614943036911"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">John Doe</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">3</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
